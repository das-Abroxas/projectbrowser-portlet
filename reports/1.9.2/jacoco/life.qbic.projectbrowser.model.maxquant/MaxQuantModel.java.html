<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>MaxQuantModel.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">ProjectBrowser Portlet</a> &gt; <a href="index.source.html" class="el_package">life.qbic.projectbrowser.model.maxquant</a> &gt; <span class="el_source">MaxQuantModel.java</span></div><h1>MaxQuantModel.java</h1><pre class="source lang-java linenums">/*******************************************************************************
 * QBiC Project qNavigator enables users to manage their projects. Copyright (C) &quot;2016‚Äù Christopher
 * Mohr, David Wojnar, Andreas Friedrich
 *
 * This program is free software: you can redistribute it and/or modify it under the terms of the
 * GNU General Public License as published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without
 * even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
 * General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with this program. If
 * not, see &lt;http://www.gnu.org/licenses/&gt;.
 *******************************************************************************/
package life.qbic.projectbrowser.model.maxquant;

import java.io.File;
import java.io.Serializable;
import java.util.Collection;
import java.util.HashMap;
import java.util.LinkedHashSet;

import org.apache.commons.lang.NotImplementedException;

import com.vaadin.data.util.BeanItemContainer;

import de.uni_tuebingen.qbic.beans.DatasetBean;
import fasta.FastaBean;

public class MaxQuantModel implements Serializable {
  private static final long serialVersionUID = 6180632029094989505L;


<span class="nc" id="L35">  private BeanItemContainer&lt;RawFilesBean&gt; rawFilesBeans =</span>
      new BeanItemContainer&lt;RawFilesBean&gt;(RawFilesBean.class);
<span class="nc" id="L37">  private BeanItemContainer&lt;DatasetBean&gt; datasetBeans =</span>
      new BeanItemContainer&lt;DatasetBean&gt;(DatasetBean.class);
<span class="nc" id="L39">  private HashMap&lt;RawFilesBean, DatasetBean&gt; selecteddatasets =</span>
      new HashMap&lt;RawFilesBean, DatasetBean&gt;();

<span class="nc" id="L42">  private BeanItemContainer&lt;FastaBean&gt; fastaBeans =</span>
      new BeanItemContainer&lt;FastaBean&gt;(FastaBean.class);
<span class="nc" id="L44">  private BeanItemContainer&lt;FastaBean&gt; selectedFastaBeans =</span>
      new BeanItemContainer&lt;FastaBean&gt;(FastaBean.class);

  // group specific parameters
<span class="nc" id="L48">  private HashMap&lt;Integer, Group&gt; groups = new HashMap&lt;Integer, Group&gt;();</span>

  // global parameters
<span class="nc" id="L51">  private LinkedHashSet&lt;String&gt; fixedMods = new LinkedHashSet&lt;String&gt;();</span>
<span class="nc" id="L52">  private Boolean matchBetweenRuns = false;</span>
<span class="nc" id="L53">  private Boolean reQuantify = false;</span>

  public MaxQuantModel(BeanItemContainer&lt;RawFilesBean&gt; rawFilesBeans,
      BeanItemContainer&lt;DatasetBean&gt; datasetBeans, BeanItemContainer&lt;FastaBean&gt; selectedfastas,
      BeanItemContainer&lt;FastaBean&gt; fastas) {
<span class="nc" id="L58">    super();</span>
<span class="nc" id="L59">    this.rawFilesBeans = rawFilesBeans;</span>
<span class="nc" id="L60">    this.datasetBeans = datasetBeans;</span>
<span class="nc" id="L61">    this.fastaBeans = fastas;</span>
<span class="nc" id="L62">    this.selectedFastaBeans = selectedfastas;</span>
<span class="nc" id="L63">  }</span>

  public BeanItemContainer&lt;RawFilesBean&gt; getRawFilesBeans() {
<span class="nc" id="L66">    return rawFilesBeans;</span>
  }

  public void setRawFilesBeans(BeanItemContainer&lt;RawFilesBean&gt; rawFilesBeans) {
<span class="nc" id="L70">    this.rawFilesBeans = rawFilesBeans;</span>
<span class="nc" id="L71">  }</span>

  public BeanItemContainer&lt;DatasetBean&gt; getDatasetBeans() {
<span class="nc" id="L74">    return datasetBeans;</span>
  }

  public Collection&lt;DatasetBean&gt; selectedDatasets() {
<span class="nc" id="L78">    return selecteddatasets.values();</span>
  }

  public void setDatasetBeans(BeanItemContainer&lt;DatasetBean&gt; datasetBeans) {
<span class="nc" id="L82">    this.datasetBeans = datasetBeans;</span>
<span class="nc" id="L83">  }</span>

  public void fromJson(String json) {
<span class="nc" id="L86">    throw new NotImplementedException(&quot;Not implemented.&quot;);</span>
  }

  public void fromJson(File json) {
<span class="nc" id="L90">    throw new NotImplementedException(&quot;Not implemented.&quot;);</span>
  }

  public String toJson() {
<span class="nc" id="L94">    throw new NotImplementedException(&quot;Not implemented.&quot;);</span>
  }

  /**
   * removes all Datasetbeans in that collection from the container datasetbeans and adds them to
   * selected beans.
   * 
   * @param available
   */
  public void selectRawFiles(Collection&lt;Object&gt; available) {
<span class="nc bnc" id="L104" title="All 4 branches missed.">    if (available == null || available.isEmpty())</span>
<span class="nc" id="L105">      return;</span>
<span class="nc bnc" id="L106" title="All 2 branches missed.">    for (Object o : available) {</span>
<span class="nc bnc" id="L107" title="All 4 branches missed.">      if (o instanceof DatasetBean &amp;&amp; this.datasetBeans.containsId(o)) {</span>
<span class="nc" id="L108">        DatasetBean bean = (DatasetBean) o;</span>
<span class="nc" id="L109">        this.datasetBeans.removeItem(o);</span>
<span class="nc" id="L110">        RawFilesBean rawbean = new RawFilesBean(bean.getFileName(), bean.getSampleIdentifier());</span>
<span class="nc" id="L111">        this.rawFilesBeans.addBean(rawbean);</span>
<span class="nc" id="L112">        this.selecteddatasets.put(rawbean, bean);</span>
      }
<span class="nc" id="L114">    }</span>
<span class="nc" id="L115">  }</span>

  public void unselectRawFiles(Collection&lt;Object&gt; available) {
<span class="nc bnc" id="L118" title="All 4 branches missed.">    if (available == null || available.isEmpty())</span>
<span class="nc" id="L119">      return;</span>
<span class="nc bnc" id="L120" title="All 2 branches missed.">    for (Object o : available) {</span>
<span class="nc bnc" id="L121" title="All 4 branches missed.">      if (o instanceof RawFilesBean &amp;&amp; this.rawFilesBeans.containsId(o)) {</span>
<span class="nc" id="L122">        RawFilesBean bean = (RawFilesBean) o;</span>
<span class="nc" id="L123">        this.datasetBeans.addBean(this.selecteddatasets.get(bean));</span>
<span class="nc" id="L124">        this.selecteddatasets.remove(bean);</span>
<span class="nc" id="L125">        this.rawFilesBeans.removeItem(bean);</span>
      }
<span class="nc" id="L127">    }</span>
<span class="nc" id="L128">  }</span>

  public BeanItemContainer&lt;FastaBean&gt; getSelectedFastaBeans() {
<span class="nc" id="L131">    return selectedFastaBeans;</span>
  }

  public BeanItemContainer&lt;FastaBean&gt; getFastaBeans() {
<span class="nc" id="L135">    return fastaBeans;</span>
  }

  public void selectFastaFiles(Collection&lt;Object&gt; available) {
<span class="nc bnc" id="L139" title="All 4 branches missed.">    if (available == null || available.isEmpty())</span>
<span class="nc" id="L140">      return;</span>
<span class="nc bnc" id="L141" title="All 2 branches missed.">    for (Object o : available) {</span>
<span class="nc bnc" id="L142" title="All 2 branches missed.">      if (this.fastaBeans.containsId(o)) {</span>
<span class="nc" id="L143">        FastaBean bean = (FastaBean) o;</span>
<span class="nc" id="L144">        this.fastaBeans.removeItem(o);</span>
<span class="nc" id="L145">        this.selectedFastaBeans.addBean(bean);</span>
      }
<span class="nc" id="L147">    }</span>

<span class="nc" id="L149">  }</span>

  public void unselectFastaFiles(Collection&lt;Object&gt; available) {
<span class="nc bnc" id="L152" title="All 4 branches missed.">    if (available == null || available.isEmpty())</span>
<span class="nc" id="L153">      return;</span>
<span class="nc bnc" id="L154" title="All 2 branches missed.">    for (Object o : available) {</span>
<span class="nc bnc" id="L155" title="All 2 branches missed.">      if (this.selectedFastaBeans.containsId(o)) {</span>
<span class="nc" id="L156">        FastaBean bean = (FastaBean) o;</span>
<span class="nc" id="L157">        this.fastaBeans.addBean(bean);</span>
<span class="nc" id="L158">        this.selectedFastaBeans.removeItem(bean);</span>
      }
<span class="nc" id="L160">    }</span>
<span class="nc" id="L161">  }</span>

  public LinkedHashSet&lt;String&gt; getFixedMods() {
<span class="nc" id="L164">    return this.fixedMods;</span>
  }

  public HashMap&lt;Integer, Group&gt; getGroups() {
<span class="nc" id="L168">    return groups;</span>
  }

  public void setGroups(HashMap&lt;Integer, Group&gt; groups) {
<span class="nc" id="L172">    this.groups = groups;</span>
<span class="nc" id="L173">  }</span>

  public Boolean getMatchBetweenRuns() {
<span class="nc" id="L176">    return matchBetweenRuns;</span>
  }

  public void setMatchBetweenRuns(Boolean matchBetweenRuns) {
<span class="nc" id="L180">    this.matchBetweenRuns = matchBetweenRuns;</span>
<span class="nc" id="L181">  }</span>

  public Boolean getReQuantify() {
<span class="nc" id="L184">    return reQuantify;</span>
  }

  public void setReQuantify(Boolean reQuantify) {
<span class="nc" id="L188">    this.reQuantify = reQuantify;</span>
<span class="nc" id="L189">  }</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.3.201901230119</span></div></body></html>